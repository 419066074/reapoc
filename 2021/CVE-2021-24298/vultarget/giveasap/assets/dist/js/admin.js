!function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=15)}([function(e,t){e.exports=jQuery},,,function(e,t,a){function i(e){document.addEventListener("mouseover",function(t){var a=t.target,n=e(a);n||(n=(a=a.parentElement)&&e(a)),n&&i.show(a,n,!0)})}i.show=function(e,t,a){var n="data-tlite";t=t||{},(e.tooltip||function(e,t){var s,o,r;function l(){i.hide(e,!0)}function d(){s||(s=function(e,t,a){var i=document.createElement("span"),n=a.grav||e.getAttribute("data-tlite")||"n";i.innerHTML=t,e.appendChild(i);var s=n[0]||"",o=n[1]||"";function r(){i.className="tlite tlite-"+s+o;var t=e.offsetTop,a=e.offsetLeft;i.offsetParent===e&&(t=a=0);var n=e.offsetWidth,r=e.offsetHeight,l=i.offsetHeight,d=i.offsetWidth,c=a+n/2;i.style.top=("s"===s?t-l-10:"n"===s?t+r+10:t+r/2-l/2)+"px",i.style.left=("w"===o?a:"e"===o?a+n-d:"w"===s?a+n+10:"e"===s?a-d-10:c-d/2)+"px"}r();var l=i.getBoundingClientRect();"s"===s&&l.top<0?(s="n",r()):"n"===s&&l.bottom>window.innerHeight?(s="s",r()):"e"===s&&l.left<0?(s="w",r()):"w"===s&&l.right>window.innerWidth&&(s="e",r());return i.className+=" tlite-visible",i}(e,r,t))}return e.addEventListener("mousedown",l),e.addEventListener("mouseleave",l),e.tooltip={show:function(){r=e.title||e.getAttribute(n)||r,e.title="",e.setAttribute(n,""),r&&!o&&(o=setTimeout(d,a?150:1))},hide:function(e){if(a===e){o=clearTimeout(o);var t=s&&s.parentNode;t&&t.removeChild(s),s=void 0}}}}(e,t)).show()},i.hide=function(e,t){e.tooltip&&e.tooltip.hide(t)},e.exports&&(e.exports=i)},,,,,,,,,,,,function(e,t,a){a(16),e.exports=a(17)},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var i,n=a(3),s=a.n(n);a(18);function o(e,t){var a="";a=e.sizes.thumbnail?e.sizes.thumbnail.url:e.sizes.full.url;var i='<li tabindex="0" role="checkbox" aria-label="'+e.title+'" aria-checked="true" data-id="'+e.id+'" class="attachment save-ready selected details">';return i+='<div class="attachment-preview js--select-attachment type-image subtype-jpeg portrait">',i+='<div class="thumbnail">',i+='<div class="centered">',i+='<img src="'+a+'" draggable="false" alt="">',i+="</div>",i+="</div>",i+="</div>",i+='<button type="button" data-gallery="#'+t+'" class="button-link check remove-sortable-wordpress-gallery-image" tabindex="0"><span class="media-modal-icon"></span><span class="screen-reader-text">Deselect</span></button>',i+="</li>"}(i=jQuery)(document).ready(function(){s()(function(e){return e.classList.contains("sg-tooltip")}),i(".sg-code-editor").length&&i(".sg-code-editor").each(function(){var e=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{},t=i(this).attr("data-mode");void 0===t&&(t=!1),e.codemirror=_.extend({},e.codemirror,{indentUnit:2,tabSize:2}),t&&(e.codemirror.mode=t),wp.codeEditor.initialize(i(this),e)}),i("#sgToggleAwardPrizes").on("click",function(e){e.preventDefault();var t=i(this),a=t.attr("data-target"),n=t.attr("data-class");i(a).toggleClass(n),i(a).hasClass(n)?i("#sg_awarding_prizes_manually").removeAttr("checked"):i("#sg_awarding_prizes_manually").attr("checked","checked")}),i(".sg-toggle").on("click",function(e){e.preventDefault();var t=i(this),a=t.attr("data-target"),n=t.attr("data-class"),s=t.attr("data-text");if(i(a).toggleClass(n),s){var o=t.text();t.attr("data-text",o),t.html(s)}}),i("#sg_giveaway_add_subscriber").length&&i("#sg_giveaway_add_subscriber").on("change",function(){i.ajax({url:gasap.ajax_url,dataType:"json",type:"GET",data:{action:"sg_get_giveaway_form_fields",giveaway:i(this).val(),nonce:gasap.nonce},success:function(e){e.success&&i("#sgGiveawayFields").html(e.data)}})});var e=i(".add-sortable-wordpress-gallery");function t(){var e=0;i(".giveaway-sharing-methods").children().each(function(){var t=parseInt(i(this).attr("data-index"));if(t!==e){var a=i(this).html(),n=new RegExp("giveasap_methods\\["+t+"\\]","g"),s=a.replace(n,"giveasap_methods["+e+"]");i(this).html(s),i(this).attr("data-index",e)}e++})}function a(){var e=0;i(".sg-form-fields-container").children().each(function(){var t=parseInt(i(this).attr("data-index"));if(t!==e){var a=i(this).html(),n=new RegExp("form_fields\\["+t+"\\]","g"),s=a.replace(n,"form_fields["+e+"]");i(this).html(s),i(this).attr("data-index",e)}e++})}function n(){var e=0;i(".sg-prizes-field-container").children().each(function(){var t=parseInt(i(this).attr("data-index"));if(t!==e){var a=i(this).html(),n=new RegExp("form_fields\\["+t+"\\]","g"),s=a.replace(n,"form_fields["+e+"]");i(this).html(s),i(this).attr("data-index",e)}e++})}function r(){var e=i("#giveasap_type").val();i(".sg-metaboxes .hide_if_any").hide(),i(".sg-metaboxes .show_if_any").show(),i(".hide_if_"+e).hide(),i(".show_if_"+e).show(),i(document.body).triggerHandler("sg_giveaway_type_changed",[e])}function l(){var e=0;i(".sg-extra-actions").children().each(function(){var t=parseInt(i(this).attr("data-index"));if(t!==e){var a=i(this).html(),n=new RegExp("entries_actions\\["+t+"\\]","g"),s=a.replace(n,"entries_actions["+e+"]");i(this).html(s),i(this).attr("data-index",e)}e++})}function d(e){switch(e){case"default":i(".sg-prizes-field-container .sg-form-field").each(function(){var e=i(this);e.find(".sg-prize-field-winner").removeClass("hidden"),e.find(".sg-prize-field-chance").addClass("hidden"),e.find(".sg-prize-field-quantity").addClass("hidden")});break;case"random":i(".sg-prizes-field-container .sg-form-field").each(function(){var e=i(this);e.find(".sg-prize-field-winner").addClass("hidden"),e.find(".sg-prize-field-chance").removeClass("hidden"),e.find(".sg-prize-field-quantity").removeClass("hidden")})}i(document.body).triggerHandler("sg_toggle_multiple_prizes_fields",[e])}i(document).on("click",".remove-sortable-wordpress-gallery-image",function(e){e.preventDefault();var t=i(this),a=t.parent().attr("data-id"),n=t.attr("data-gallery"),s=i(n+"_input"),o=s.val().split(","),r=o.indexOf(a);r>=0&&(o.splice(r,1),s.val(o.join())),t.parent().remove()}),e.each(function(){var e=i(this).attr("data-gallery"),t=i(e),a=i(e+"_input");t.sortable(),t.on("sortupdate",function(e,n){var s=[];t.children("li").each(function(){s.push(i(this).attr("data-id"))}),a.val(s.join())}),i(this).on("click",function(){var e,i,n;e=t,i=a,void 0===n?((n=wp.media({multiple:!0})).on("open",function(){var e=n.state().get("selection");i.val().split(",").forEach(function(t){var a=wp.media.attachment(t);a.fetch(),e.add(a?[a]:[])})}),n.on("select",function(){var t=n.state().get("selection").toJSON(),a=[];e.empty();for(var s=e.attr("id"),r=0;r<t.length;r++)"image"==t[r].type&&(a.push(t[r].id),e.append(o(t[r],s)));i.val(a.join())}),n.open()):n.open()})}),i(document).on("click",".add-single-wordpress-image",function(e){e.preventDefault();var t,a,n,s=i(this).attr("data-gallery"),r=i(s),l=i(s+"_input");t=r,a=l,void 0===n?((n=wp.media({multiple:!1})).on("open",function(){var e=n.state().get("selection");a.val().split(",").forEach(function(t){var a=wp.media.attachment(t);a.fetch(),e.add(a?[a]:[])})}),n.on("select",function(){var e=n.state().get("selection").toJSON(),i=[];t.empty(),console.log(t);for(var s=t.attr("id"),r=0;r<e.length;r++)"image"==e[r].type&&(i.push(e[r].id),t.append(o(e[r],s)));a.val(i.join())}),n.open()):n.open()}),i(document).on("change","#giveasap_end_date, #giveasap_end_time",function(){var e=i("#giveasap_end_time").val(),t=i("#giveasap_end_date").val().split("-").reverse().join("-"),a=i("#giveasap_winner_time").val(),n=i("#giveasap_winner_date").val().split("-").reverse().join("-");Date.parse(t+"T"+e)>Date.parse(n+"T"+a)&&(i("#giveasap_winner_date").val(i("#giveasap_end_date").val()),i("#giveasap_winner_time").val(i("#giveasap_end_time").val()))}),i(document).on("change","#giveasap_winner_time, #giveasap_winner_date",function(){var e=i("#giveasap_end_time").val(),t=i("#giveasap_end_date").val().split("-").reverse().join("-"),a=i("#giveasap_winner_time").val(),n=i("#giveasap_winner_date").val().split("-").reverse().join("-");Date.parse(t+"T"+e)>Date.parse(n+"T"+a)&&alert(gasap.text.winner_before_end)}),i("#giveasap_expand_users").on("click",function(){i("#giveasap_users_container").toggleClass("hidden")}),i("#date_format").on("change",function(){$format=i(this).val().replace("d","dd").replace("j","d").replace("Y","yy").replace("m","mm"),i(".datepicker").datepicker("option",{altFormat:$format})}),i(document).on("click",".button-integration-deactivate",function(e){e.preventDefault();var t=i(this).attr("data-integration"),a=i(this);t&&i.ajax({url:gasap.ajax_url,dataType:"json",type:"POST",data:{action:"giveasap_deactivate_integration",integration:t,nonce:gasap.nonce},success:function(e){e.success&&a.removeClass("button-integration-deactivate").removeClass("button-default").addClass("button-integration-activate").addClass("button-primary").html(gasap.text.activate)}})}),i(document).on("click",".button-integration-activate",function(e){e.preventDefault();var t=i(this).attr("data-integration"),a=i(this);t&&i.ajax({url:gasap.ajax_url,dataType:"json",type:"POST",data:{action:"giveasap_activate_integration",integration:t,nonce:gasap.nonce},success:function(e){e.success&&a.addClass("button-integration-deactivate").addClass("button-default").removeClass("button-integration-activate").removeClass("button-primary").html(gasap.text.deactivate)}})}),i(document).on("click",".ga-search-email",function(e){e.preventDefault();for(var t=i(this).parent().find("input"),a=window.location.href.split("?"),n=a[1].split("&"),s={},o=0;o<n.length;o++){var r=n[o].split("=");s[r[0]]=r[1]}t.each(function(){var e=i(this).attr("name"),t=i(this).val();t?s[e]=t:delete s[e]});var l=[];for(var d in s)l.push(d+"="+s[d]);var c=a[0]+"?"+l.join("&");window.location.href=c}),i(document).on("click",".sg-metaboxes li.sg-metabox a",function(e){e.preventDefault(),i(".sg-metabox-fields").addClass("hidden"),i(".sg-metaboxes li.active").removeClass("active");var t=i(this).attr("href");i(t).removeClass("hidden"),i(this).parent().addClass("active"),i(t).find(".wp-editor-wrap").each(function(){var e=i(this).find("iframe");e.height()<200&&e.height(200)})}),i(document).on("change",".sg-admin-form.sg-action-form :input",function(){var e=i(this).parents(".sg-admin-form");if(!i(this)[0].checkValidity()){var t=i(this)[0].validationMessage,a=e.find(".error");i(this).focus(),a.length?a.find("p").html(t):e.prepend('<div class="notice error"><p>'+t+"</p></div>"),setTimeout(function(){e.find(".error").fadeOut().remove()},5e3)}}),i(".sg-image-popup-link").magnificPopup({type:"image"}),i("#addShareMethod").on("click",function(e){e.preventDefault();var t=wp.template("sharing-method"),a=i(".giveaway-sharing-methods").children().length,n=t({index:a,title:"New Method"});i(".giveaway-sharing-methods").append(n),i(".giveaway-sharing-methods").children().eq(a).find(".method-select").trigger("change")}),i(".giveaway-sharing-methods").sortable({update:function(e,a){t()}}),i(document).on("click",".giveaway-sharing-method .method-header",function(){i(this).parent().toggleClass("active")}),i(document).on("click",".giveaway-sharing-method .button-delete",function(){i(this).parents(".giveaway-sharing-method").remove(),t()}),i(document).on("change",".giveaway-sharing-method .method-select",function(){if("custom"===i(this).val()){var e=wp.template("sharing-method-custom")({index:(t=i(this).parents(".giveaway-sharing-method")).attr("data-index"),url:"",title:t.attr("data-title"),attributes:{url:"",text:"",image:""}});t.find(".giveasap-method-html").html(e),t.find(".color-picker").wpColorPicker()}else{var t;(t=i(this).parents(".giveaway-sharing-method")).find(".giveasap-method-html").html("")}}),i(document).on("keyup",".giveaway-sharing-method .method-title",function(){i(this).parents(".giveaway-sharing-method").find(".method-header strong").html(i(this).val())}),i(".giveaway-sharing-methods").length&&i(".giveaway-sharing-methods .color-picker").wpColorPicker(),i(document.body).on("change",".sg-field-type",function(e){var t=i(this).val(),a=i(this),n=a.parent();if("radio"===t||"select"===t){if(0===n.find(".sg-form-field-options").length){var s=a.parents(".sg-form-field").attr("data-index"),o=wp.template("sg-form-field-options")({index:s});n.append(o)}}else{var r=n.find(".sg-form-field-options");r.length&&r.remove()}}),i(document.body).on("click",".sg-remove-form-field-option",function(e){i(this).parent().remove()}),i(document.body).on("click",".sg-add-form-field-option",function(e){e.preventDefault();var t=i(this).parents(".sg-form-field").attr("data-index"),a=wp.template("sg-form-field-option")({index:t});i(this).parent().find(".sg-form-field-options-container").append(a)}),i(".sg-form-fields-container").sortable({placeholder:"ui-state-highlight",handle:".sg-form-row-handle",update:function(e,t){a()}}),i("#sgAddFormField").on("click",function(){var e=wp.template("sg-form-field")({index:i(".sg-form-fields-container").children().length});i(".sg-form-fields-container").append(e)}),i(document.body).on("click",".sg-delete-form-field",function(){i(this).parents(".sg-form-field").remove(),a()}),i(document.body).on("click",".sg-form-field-header .sg-field-name",function(){i(this).parents(".sg-form-field").toggleClass("open")}),i(document.body).on("keyup",".sg-form-field-body .sg-field-name input",function(){var e=i(this).val();i(this).parents(".sg-form-field").find(".sg-form-field-header .sg-field-name").html(e)}),i("#sgAddPrizesField").on("click",function(){var e=wp.template("sg-prizes-field")({index:i(".sg-prizes-field-container").children().length});i(".sg-prizes-field-container").append(e);var t=i(".sg-prizes-field-container .sg-form-field").last();t.toggleClass("open"),t.find(".sg-field-name input").focus(),r(),i(document.body).triggerHandler("sg_prizes_field_added")}),i(document.body).on("click",".sg-delete-prizes-field",function(){i(this).parents(".sg-form-field").remove(),n()}),i(".sg-prizes-field-container").sortable({placeholder:"ui-state-highlight",handle:".sg-form-row-handle",update:function(e,t){n()}}),i("#sg-metaboxes").length&&(r(),i("#giveasap_type").on("change",r)),i(document).on("click",".sg-button-action",function(e){e.preventDefault();var t=i(this),a=t.attr("data-ajax")||"",n=t.attr("data-reload")||"0",s=t.attr("data-callback")||"",o=t.attr("data-nonce")||"",r=t.attr("data-text"),l=t.text(),d=t.attr("href");if(r&&t.text(r),a){var c={action:a};if(o&&(c.nonce=gasap.nonce),this.attributes.length)for(var p=0;p<this.attributes.length;p++){var u=this.attributes[p];c[u.nodeName.replace("-","_")]=u.nodeValue}i.ajax({url:gasap.ajax_url,dataType:"json",data:c,success:function(e){if(s){var a=window[s];"function"==typeof a&&a(t,e)}r&&"1"!==n&&t.text(l),"1"===n&&(d?window.location.href=d:location.reload(!1))}})}else{if(s){var f=window[s];"function"==typeof f&&f(t)}r&&"1"!==n&&t.text(l),"1"===n&&(d?window.location.href=d:location.reload(!1))}}),i(".sg-action-category-title").on("click",function(e){i(this).parent().toggleClass("active")}),i(".sg-action").on("click",function(e){var t=i("#sgEntriesActions"),a=t.children().length,n=i(this).attr("data-slug"),s=wp.template(n);i("#tmpl-"+n).length&&(e.preventDefault(),t.append(s({index:a})),i(document.body).trigger("sg-enhanced-select-search-init"))}),i(".sg-extra-actions").sortable({update:function(e,t){l()}}),i(document).on("click",".sg-admin-action-remove",function(e){e.preventDefault(),i(this).parents(".sg-admin-action").remove(),l()}),i(document).on("click",".sg-admin-action-title",function(e){e.preventDefault(),i(this).parent().toggleClass("active")}),i(document).on("click",".sg-multioption-button",function(e){e.preventDefault();var t=i(this).attr("data-id"),a=i(this).attr("data-name"),n=i(this).attr("data-template"),s=i("#"+t).children().length,o=wp.template(n)({index:s,id:t,name:a});i("#"+t).append(o)}),i(document).on("click",".sg-multioption-delete",function(e){e.preventDefault(),i(this).parent().remove()}),i(document).find(".sg-select2:not(.enhanced)").each(function(){if(!i(this).parents(".sg-report-options").length){var e=i(this);i(this).select2({placeholder:e.attr("placeholder")||"",minimumInputLength:e.attr("data-mininput")||3,ajax:{url:gasap.ajax_url,dataType:"json",data:function(t){return{search:t.term,type:"public",action:e.attr("data-action")||"sg_get_giveaways"}},processResults:function(e){if(e.success){var t=[];for(var a in e.data)t.push({id:e.data[a].ID,text:e.data[a].post_title});return{results:t}}return{results:e.items}}}}).addClass("enhanced")}}),i(document.body).on("sg_giveaway_type_changed",function(e,t){"instant"===t&&i("#sg-metabox-fields-giveasap_prize #type").val("random"),d(i("#sg-metabox-fields-giveasap_prize #type").val())}),i(document.body).on("sg_prizes_field_added",function(){d(i("#sg-metabox-fields-giveasap_prize #type").val())}),i("#sg-metabox-fields-giveasap_prize").length&&d(i("#sg-metabox-fields-giveasap_prize #type").val()),i(document.body).on("change","#sg-metabox-fields-giveasap_prize #type",function(e){d(i(this).val())}),i("#ga_aweber_disconnect").on("click",function(){i(this),i(this).parent(),i.ajax({url:gasap.ajax_url,dataType:"json",type:"POST",data:{action:"giveasap_disconnect_ga_aweber",nonce:gasap.nonce},success:function(e){e.success&&(i(".ga-aweber-disconnect").addClass("hidden"),i(".ga-aweber-connect").removeClass("hidden"))}})}),i(document).on("click",".giveasap-edit-user",function(){var e=i(this).parent();e.find(".giveasap-edit-user").addClass("hidden"),e.find(".giveasap-edit-user-input").attr("type","number"),e.find(".giveasap-edit-user-save").removeClass("hidden"),e.find(".giveasap-user-entries").addClass("hidden"),e.find(".giveasap-edit-user-cancel").removeClass("hidden"),e.find(".giveasap-edit-user-alert").remove()}),i(document).on("click",".giveasap-edit-user-save",function(){var e=i(this),t=e.parent(),a=t.find(".giveasap-edit-user-input").attr("data-id"),n=t.find(".giveasap-edit-user-input").val();t.find(".giveasap-edit-user-alert").remove(),e.html(gasap.text.saving),i.ajax({url:gasap.ajax_url,dataType:"json",type:"POST",data:{action:"giveasap_edit_user_entry",user_id:a,nonce:gasap.nonce,entries:n},success:function(a){if(a.success)e.html(gasap.text.save),t.find(".giveasap-edit-user-input").val(a.data.entries),t.find(".giveasap-user-entries").html(a.data.entries),t.find(".giveasap-edit-user").removeClass("hidden"),t.find(".giveasap-edit-user-input").attr("type","hidden"),t.find(".giveasap-edit-user-save").addClass("hidden"),t.find(".giveasap-user-entries").removeClass("hidden"),t.find(".giveasap-edit-user-cancel").addClass("hidden");else{var i='<p class="giveasap-edit-user-alert">'+a.data.message+"</p>";t.append(i)}}})}),i(document).on("click",".giveasap-edit-user-cancel",function(){var e=i(this).parent();e.find(".giveasap-edit-user-alert").remove(),e.find(".giveasap-edit-user").removeClass("hidden"),e.find(".giveasap-edit-user-input").attr("type","hidden"),e.find(".giveasap-edit-user-save").addClass("hidden"),e.find(".giveasap-user-entries").removeClass("hidden"),e.find(".giveasap-edit-user-cancel").addClass("hidden")}),i(document).on("click",".giveasap-edit-user-email",function(e){e.preventDefault();var t=i(this).parents("tr");t.find(".sg-premium-subscriber-email-text").addClass("hidden"),t.find(".sg-premium-subscriber-email-input").removeClass("hidden")}),i(document).on("click",".giveasap-edit-user-email-cancel",function(e){e.preventDefault();var t=i(this).parents("tr");t.find(".sg-premium-subscriber-email-text").removeClass("hidden"),t.find(".sg-premium-subscriber-email-input").addClass("hidden")}),i(document).on("click",".giveasap-edit-user-email-save",function(){var e=i(this),t=e.parents("td"),a=t.find(".giveasap-edit-user-email-input").attr("data-id"),n=t.find(".giveasap-edit-user-email-input").val();t.find(".giveasap-edit-user-alert").remove(),e.html(gasap.text.saving),i.ajax({url:gasap.ajax_url,dataType:"json",type:"POST",data:{action:"giveasap_edit_user_email",user_id:a,nonce:gasap.nonce,email:n},success:function(a){if(a.success)e.html(gasap.text.save),t.find(".sg-premium-subscriber-email-text").removeClass("hidden"),t.find(".sg-premium-subscriber-email-input").addClass("hidden"),t.find(".sg-premium-subscriber-email-text strong").html(n);else{var i='<p class="giveasap-edit-user-alert">'+a.data.message+"</p>";t.append(i)}}})}),window.sg_replace_form_fields=function(e,t){t.success&&e.parents("tr").html(t.data.fields_html)},i(document).on("change","[name=mailchimp_list], #ga_mailchimp [name=list]",function(){console.log(i(this).val());var e=i(this).val(),t=i(this),a=t.attr("name");t.parents("td").addClass("sg-loading"),i(".mailchimp-groups").html(""),i(".mailchimp-group-options").html(""),i.ajax({url:gasap.ajax_url,dataType:"json",type:"GET",data:{action:"sg_mailchimp_get_groups",nonce:gasap.nonce,list:e,name:a},success:function(e){e.success&&i(".mailchimp-groups").html(e.data.html)},complete:function(){t.parents("td").removeClass("sg-loading")}})}),i(document).on("change",".mailchimp-groups select",function(){console.log(i(this).val());var e=i(this).val(),t=i(".mailchimp-list").val(),a=i(this),n=a.attr("name");a.parents("td").addClass("sg-loading"),i(".mailchimp-group-options").html(""),i.ajax({url:gasap.ajax_url,dataType:"json",type:"GET",data:{action:"sg_mailchimp_get_group_options",nonce:gasap.nonce,list:t,name:n,group:e},success:function(e){e.success&&i(".mailchimp-group-options").html(e.data.html)},complete:function(){a.parents("td").removeClass("sg-loading")}})}),i(document.body).on("sg-enhanced-select-search-init",function(){i(":input.sg-select-search").filter(":not(.enhanced)").each(function(){var e={allowClear:!!i(this).data("allow_clear"),placeholder:i(this).data("placeholder"),minimumInputLength:i(this).data("minimum_input_length")?i(this).data("minimum_input_length"):"3",escapeMarkup:function(e){return e},ajax:{url:gasap.ajax_url,dataType:"json",delay:250,data:function(e){return{term:e.term,action:i(this).data("action")||"sg_select_search",security:gasap.nonce,exclude:i(this).data("exclude"),exclude_type:i(this).data("exclude_type"),include:i(this).data("include"),limit:i(this).data("limit"),display_stock:i(this).data("display_stock")}},processResults:function(e){var t=[];return e&&i.each(e,function(e,a){t.push({id:e,text:a})}),{results:t}},cache:!0}};i(this).select2(e).addClass("enhanced"),i(this).prop("multiple")&&i(this).on("change",function(){var e=i(this).children();e.sort(function(e,t){var a=e.text.toLowerCase(),i=t.text.toLowerCase();return a>i?1:a<i?-1:0}),i(this).html(e)})})}).trigger("sg-enhanced-select-search-init")})},function(e,t,a){var i,n,s;
/*! Magnific Popup - v1.1.0 - 2016-02-20
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2016 Dmitry Semenov; */n=[a(0)],void 0===(s="function"==typeof(i=function(e){var t,a,i,n,s,o,r=function(){},l=!!window.jQuery,d=e(window),c=function(e,a){t.ev.on("mfp"+e+".mfp",a)},p=function(t,a,i,n){var s=document.createElement("div");return s.className="mfp-"+t,i&&(s.innerHTML=i),n?a&&a.appendChild(s):(s=e(s),a&&s.appendTo(a)),s},u=function(a,i){t.ev.triggerHandler("mfp"+a,i),t.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),t.st.callbacks[a]&&t.st.callbacks[a].apply(t,e.isArray(i)?i:[i]))},f=function(a){return a===o&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),o=a),t.currTemplate.closeBtn},m=function(){e.magnificPopup.instance||((t=new r).init(),e.magnificPopup.instance=t)};r.prototype={constructor:r,init:function(){var a=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(a),t.isIOS=/iphone|ipad|ipod/gi.test(a),t.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(a){var n;if(!1===a.isObj){t.items=a.items.toArray(),t.index=0;var o,r=a.items;for(n=0;n<r.length;n++)if((o=r[n]).parsed&&(o=o.el[0]),o===a.el[0]){t.index=n;break}}else t.items=e.isArray(a.items)?a.items:[a.items],t.index=a.index||0;if(!t.isOpen){t.types=[],s="",a.mainEl&&a.mainEl.length?t.ev=a.mainEl.eq(0):t.ev=i,a.key?(t.popupsCache[a.key]||(t.popupsCache[a.key]={}),t.currTemplate=t.popupsCache[a.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,a),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=p("bg").on("click.mfp",function(){t.close()}),t.wrap=p("wrap").attr("tabindex",-1).on("click.mfp",function(e){t._checkIfClose(e.target)&&t.close()}),t.container=p("container",t.wrap)),t.contentContainer=p("content"),t.st.preloader&&(t.preloader=p("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(n=0;n<l.length;n++){var m=l[n];m=m.charAt(0).toUpperCase()+m.slice(1),t["init"+m].call(t)}u("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(c("MarkupParse",function(e,t,a,i){a.close_replaceWith=f(i.type)}),s+=" mfp-close-btn-in"):t.wrap.append(f())),t.st.alignTop&&(s+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:d.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup.mfp",function(e){27===e.keyCode&&t.close()}),d.on("resize.mfp",function(){t.updateSize()}),t.st.closeOnContentClick||(s+=" mfp-auto-cursor"),s&&t.wrap.addClass(s);var g=t.wH=d.height(),h={};if(t.fixedContentPos&&t._hasScrollBar(g)){var v=t._getScrollbarSize();v&&(h.marginRight=v)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):h.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),u("BuildControls"),e("html").css(h),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP("mfp-ready"),t._setFocus()):t.bgOverlay.addClass("mfp-ready"),i.on("focusin.mfp",t._onFocusIn)},16),t.isOpen=!0,t.updateSize(g),u("Open"),a}t.updateItemHTML()},close:function(){t.isOpen&&(u("BeforeClose"),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP("mfp-removing"),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){u("Close");var a="mfp-removing mfp-ready ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(a+=t.st.mainClass+" "),t._removeClassFromMFP(a),t.fixedContentPos){var n={marginRight:""};t.isIE7?e("body, html").css("overflow",""):n.overflow="",e("html").css(n)}i.off("keyup.mfp focusin.mfp"),t.ev.off(".mfp"),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,u("AfterClose")},updateSize:function(e){if(t.isIOS){var a=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*a;t.wrap.css("height",i),t.wH=i}else t.wH=e||d.height();t.fixedContentPos||t.wrap.css("height",t.wH),u("Resize")},updateItemHTML:function(){var a=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),a.parsed||(a=t.parseEl(t.index));var i=a.type;if(u("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=a,!t.currTemplate[i]){var s=!!t.st[i]&&t.st[i].markup;u("FirstMarkupParse",s),t.currTemplate[i]=!s||e(s)}n&&n!==a.type&&t.container.removeClass("mfp-"+n+"-holder");var o=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](a,t.currTemplate[i]);t.appendContent(o,i),a.preloaded=!0,u("Change",a),n=a.type,t.container.prepend(t.contentContainer),u("AfterChange")},appendContent:function(e,a){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[a]?t.content.find(".mfp-close").length||t.content.append(f()):t.content=e:t.content="",u("BeforeAppend"),t.container.addClass("mfp-"+a+"-holder"),t.contentContainer.append(t.content)},parseEl:function(a){var i,n=t.items[a];if(n.tagName?n={el:e(n)}:(i=n.type,n={data:n,src:n.src}),n.el){for(var s=t.types,o=0;o<s.length;o++)if(n.el.hasClass("mfp-"+s[o])){i=s[o];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=i||t.st.type||"inline",n.index=a,n.parsed=!0,t.items[a]=n,u("ElementParse",n),t.items[a]},addGroup:function(e,a){var i=function(i){i.mfpEl=this,t._openClick(i,e,a)};a||(a={});var n="click.magnificPopup";a.mainEl=e,a.items?(a.isObj=!0,e.off(n).on(n,i)):(a.isObj=!1,a.delegate?e.off(n).on(n,a.delegate,i):(a.items=e,e.off(n).on(n,i)))},_openClick:function(a,i,n){var s=void 0!==n.midClick?n.midClick:e.magnificPopup.defaults.midClick;if(s||!(2===a.which||a.ctrlKey||a.metaKey||a.altKey||a.shiftKey)){var o=void 0!==n.disableOn?n.disableOn:e.magnificPopup.defaults.disableOn;if(o)if(e.isFunction(o)){if(!o.call(t))return!0}else if(d.width()<o)return!0;a.type&&(a.preventDefault(),t.isOpen&&a.stopPropagation()),n.el=e(a.mfpEl),n.delegate&&(n.items=i.find(n.delegate)),t.open(n)}},updateStatus:function(e,i){if(t.preloader){a!==e&&t.container.removeClass("mfp-s-"+a),i||"loading"!==e||(i=t.st.tLoading);var n={status:e,text:i};u("UpdateStatus",n),e=n.status,i=n.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),a=e}},_checkIfClose:function(a){if(!e(a).hasClass("mfp-prevent-close")){var i=t.st.closeOnContentClick,n=t.st.closeOnBgClick;if(i&&n)return!0;if(!t.content||e(a).hasClass("mfp-close")||t.preloader&&a===t.preloader[0])return!0;if(a===t.content[0]||e.contains(t.content[0],a)){if(i)return!0}else if(n&&e.contains(document,a))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||d.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(a){if(a.target!==t.wrap[0]&&!e.contains(t.wrap[0],a.target))return t._setFocus(),!1},_parseMarkup:function(t,a,i){var n;i.data&&(a=e.extend(i.data,a)),u("MarkupParse",[t,a,i]),e.each(a,function(a,i){if(void 0===i||!1===i)return!0;if((n=a.split("_")).length>1){var s=t.find(".mfp-"+n[0]);if(s.length>0){var o=n[1];"replaceWith"===o?s[0]!==i[0]&&s.replaceWith(i):"img"===o?s.is("img")?s.attr("src",i):s.replaceWith(e("<img>").attr("src",i).attr("class",s.attr("class"))):s.attr(n[1],i)}}else t.find(".mfp-"+a).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:r.prototype,modules:[],open:function(t,a){return m(),(t=t?e.extend(!0,{},t):{}).isObj=!0,t.index=a||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,a){a.options&&(e.magnificPopup.defaults[t]=a.options),e.extend(this.proto,a.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(a){m();var i=e(this);if("string"==typeof a)if("open"===a){var n,s=l?i.data("magnificPopup"):i[0].magnificPopup,o=parseInt(arguments[1],10)||0;s.items?n=s.items[o]:(n=i,s.delegate&&(n=n.find(s.delegate)),n=n.eq(o)),t._openClick({mfpEl:n},i,s)}else t.isOpen&&t[a].apply(t,Array.prototype.slice.call(arguments,1));else a=e.extend(!0,{},a),l?i.data("magnificPopup",a):i[0].magnificPopup=a,t.addGroup(i,a);return i};var g,h,v,y=function(){v&&(h.after(v.addClass(g)).detach(),v=null)};e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push("inline"),c("Close.inline",function(){y()})},getInline:function(a,i){if(y(),a.src){var n=t.st.inline,s=e(a.src);if(s.length){var o=s[0].parentNode;o&&o.tagName&&(h||(g=n.hiddenClass,h=p(g),g="mfp-"+g),v=s.after(h).detach().removeClass(g)),t.updateStatus("ready")}else t.updateStatus("error",n.tNotFound),s=e("<div>");return a.inlineElement=s,s}return t.updateStatus("ready"),t._parseMarkup(i,{},a),i}}});var _,b=function(){_&&e(document.body).removeClass(_)},w=function(){b(),t.req&&t.req.abort()};e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push("ajax"),_=t.st.ajax.cursor,c("Close.ajax",w),c("BeforeChange.ajax",w)},getAjax:function(a){_&&e(document.body).addClass(_),t.updateStatus("loading");var i=e.extend({url:a.src,success:function(i,n,s){var o={data:i,xhr:s};u("ParseAjax",o),t.appendContent(e(o.data),"ajax"),a.finished=!0,b(),t._setFocus(),setTimeout(function(){t.wrap.addClass("mfp-ready")},16),t.updateStatus("ready"),u("AjaxContentAdded")},error:function(){b(),a.finished=a.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",a.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var x,C,k=function(a){if(a.data&&void 0!==a.data.title)return a.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,a);if(a.el)return a.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=t.st.image,i=".image";t.types.push("image"),c("Open"+i,function(){"image"===t.currItem.type&&a.cursor&&e(document.body).addClass(a.cursor)}),c("Close"+i,function(){a.cursor&&e(document.body).removeClass(a.cursor),d.off("resize.mfp")}),c("Resize"+i,t.resizeImage),t.isLowIE&&c("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var a=0;t.isLowIE&&(a=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-a)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,x&&clearInterval(x),e.isCheckingImgSize=!1,u("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var a=0,i=e.img[0],n=function(s){x&&clearInterval(x),x=setInterval(function(){i.naturalWidth>0?t._onImageHasSize(e):(a>200&&clearInterval(x),3==++a?n(10):40===a?n(50):100===a&&n(500))},s)};n(1)},getImage:function(a,i){var n=0,s=function(){a&&(a.img[0].complete?(a.img.off(".mfploader"),a===t.currItem&&(t._onImageHasSize(a),t.updateStatus("ready")),a.hasSize=!0,a.loaded=!0,u("ImageLoadComplete")):++n<200?setTimeout(s,100):o())},o=function(){a&&(a.img.off(".mfploader"),a===t.currItem&&(t._onImageHasSize(a),t.updateStatus("error",r.tError.replace("%url%",a.src))),a.hasSize=!0,a.loaded=!0,a.loadError=!0)},r=t.st.image,l=i.find(".mfp-img");if(l.length){var d=document.createElement("img");d.className="mfp-img",a.el&&a.el.find("img").length&&(d.alt=a.el.find("img").attr("alt")),a.img=e(d).on("load.mfploader",s).on("error.mfploader",o),d.src=a.src,l.is("img")&&(a.img=a.img.clone()),(d=a.img[0]).naturalWidth>0?a.hasSize=!0:d.width||(a.hasSize=!1)}return t._parseMarkup(i,{title:k(a),img_replaceWith:a.img},a),t.resizeImage(),a.hasSize?(x&&clearInterval(x),a.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",r.tError.replace("%url%",a.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),a.loading=!0,a.hasSize||(a.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(a)),i)}}}),e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,a=t.st.zoom,i=".zoom";if(a.enabled&&t.supportsTransition){var n,s,o=a.duration,r=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+a.duration/1e3+"s "+a.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return n["-webkit-"+s]=n["-moz-"+s]=n["-o-"+s]=n[s]=i,t.css(n),t},l=function(){t.content.css("visibility","visible")};c("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(n),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void l();(s=r(e)).css(t._getOffset()),t.wrap.append(s),n=setTimeout(function(){s.css(t._getOffset(!0)),n=setTimeout(function(){l(),setTimeout(function(){s.remove(),e=s=null,u("ZoomAnimationEnded")},16)},o)},16)}}),c("BeforeClose"+i,function(){if(t._allowZoom()){if(clearTimeout(n),t.st.removalDelay=o,!e){if(!(e=t._getItemToZoom()))return;s=r(e)}s.css(t._getOffset(!0)),t.wrap.append(s),t.content.css("visibility","hidden"),setTimeout(function(){s.css(t._getOffset())},16)}}),c("Close"+i,function(){t._allowZoom()&&(l(),s&&s.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(a){var i,n=(i=a?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem)).offset(),s=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);n.top-=e(window).scrollTop()-s;var r={width:i.width(),height:(l?i.innerHeight():i[0].offsetHeight)-o-s};return void 0===C&&(C=void 0!==document.createElement("p").style.MozTransform),C?r["-moz-transform"]=r.transform="translate("+n.left+"px,"+n.top+"px)":(r.left=n.left,r.top=n.top),r}}});var I=function(e){if(t.currTemplate.iframe){var a=t.currTemplate.iframe.find("iframe");a.length&&(e||(a[0].src="//about:blank"),t.isIE8&&a.css("display",e?"block":"none"))}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push("iframe"),c("BeforeChange",function(e,t,a){t!==a&&("iframe"===t?I():"iframe"===a&&I(!0))}),c("Close.iframe",function(){I()})},getIframe:function(a,i){var n=a.src,s=t.st.iframe;e.each(s.patterns,function(){if(n.indexOf(this.index)>-1)return this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1});var o={};return s.srcAction&&(o[s.srcAction]=n),t._parseMarkup(i,o,a),t.updateStatus("ready"),i}}});var T=function(e){var a=t.items.length;return e>a-1?e-a:e<0?a+e:e},z=function(e,t,a){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,a)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=t.st.gallery,n=".mfp-gallery";if(t.direction=!0,!a||!a.enabled)return!1;s+=" mfp-gallery",c("Open"+n,function(){a.navigateByImgClick&&t.wrap.on("click"+n,".mfp-img",function(){if(t.items.length>1)return t.next(),!1}),i.on("keydown"+n,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),c("UpdateStatus"+n,function(e,a){a.text&&(a.text=z(a.text,t.currItem.index,t.items.length))}),c("MarkupParse"+n,function(e,i,n,s){var o=t.items.length;n.counter=o>1?z(a.tCounter,s.index,o):""}),c("BuildControls"+n,function(){if(t.items.length>1&&a.arrows&&!t.arrowLeft){var i=a.arrowMarkup,n=t.arrowLeft=e(i.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),s=t.arrowRight=e(i.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");n.click(function(){t.prev()}),s.click(function(){t.next()}),t.container.append(n.add(s))}}),c("Change"+n,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),c("Close"+n,function(){i.off(n),t.wrap.off("click"+n),t.arrowRight=t.arrowLeft=null})},next:function(){t.direction=!0,t.index=T(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=T(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,a=t.st.gallery.preload,i=Math.min(a[0],t.items.length),n=Math.min(a[1],t.items.length);for(e=1;e<=(t.direction?n:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:n);e++)t._preloadItem(t.index-e)},_preloadItem:function(a){if(a=T(a),!t.items[a].preloaded){var i=t.items[a];i.parsed||(i=t.parseEl(a)),u("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,u("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}}),e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,a=e.ratio;(a=isNaN(a)?a():a)>1&&(c("ImageHasSize.retina",function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/a,width:"100%"})}),c("ElementParse.retina",function(t,i){i.src=e.replaceSrc(i,a)}))}}}}),m()})?i.apply(t,n):i)||(e.exports=s)}]);
//# sourceMappingURL=admin.js.map